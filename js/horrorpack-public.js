!function(e){"use strict";var r=function(){"true"!==e.cookie("hpCookieConsent")&&setTimeout((function(){e(".hp-cookie-notice").addClass("hp-cookie-notice--visible"),e("#dismiss-cookie-notice").on("click",(function(r){r.preventDefault(),e(".hp-cookie-notice").removeClass("hp-cookie-notice--visible"),e.cookie("hpCookieConsent","true",{expires:parseInt(horrorpack.rememberConsent),path:"/"})}))}),horrorpack.cookieNoticeDelay)};void 0===e.cookie?e.getScript("https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js",(function(t,i,s){var o=setInterval((function(){void 0!==e.cookie&&(clearInterval(o),r())}),100)})):r();var t=function(e){return/\S+@\S+\.\S+/.test(e)},i=function(){e(".hp-sendy-form").on("submit",(function(r){r.preventDefault();var i=e(this),s=i.find('input[name="terms"]'),o=i.find('input[name="name"]').val(),n=i.find('input[name="email"]').val();if(!(i.find('input[name="dante"]').val().length>0)){var a=e(".hp-sendy-form__responses .response");a.hide().empty(),0!==n.length&&t(n)?s.length>0&&!s.is(":checked")?a.filter(".response--error").text(horrorpack.i18n.mustAcceptTerms).show():e.ajax({url:horrorpack.ajaxURL,data:{action:"hpfda",fn:"newsletter_subscribe",name:o,email:n},success:function(e){if(e)switch(e){case'"Some fields are missing."':a.filter(".response--error").text("Please fill in all the fields.").show();break;case'"Invalid email address."':a.filter(".response--error").text("Invalid email.").show();break;case'"Invalid list ID."':a.filter(".response--error").text("Sorry, we couldn't subscribe you at this time.").show();break;case'"Already subscribed."':a.filter(".response--error").text("Already subscribed.").show();break;case'"1"':a.filter(".response--success").text("Subscription successful!").show(),i.trigger("hp/newsletterSuccess"),i.find('input[type="email"], input[type="text"]').blur().val(""),s.prop("checked",!1)}else alert("Sorry, we couldn't subscribe you at this time.")}}):a.filter(".response--error").text(horrorpack.i18n.invalidEmail).show()}})),e(".mailchimp-form").on("submit",(function(r){r.preventDefault();var i=e(this),s=i.find('input[name="terms"]'),o=(i.find('input[name="name"]').val(),i.find('input[name="email"]').val());if(!(i.find('input[name="dante"]').val().length>0)){var n=i.find(".mailchimp-form__responses .response");n.hide().empty(),0!==o.length&&t(o)?s.length>0&&!s.is(":checked")?n.filter(".response--error").text(horrorpack.i18n.mustAcceptTerms).show():e.ajax({url:horrorpack.ajaxURL,data:{action:"hpfda",fn:"submit_subscriber",email:o},success:function(e){if((e=JSON.parse(e))&&e.hasOwnProperty("body")&&JSON.parse(e.body).hasOwnProperty("status")){var r=JSON.parse(e.body);switch(r.status){case 400:switch(r.detail){case"Blank email address":n.filter(".response--error").text(horrorpack.i18n.blankEmail).show();break;case"Please provide a valid email address.":n.filter(".response--error").text(horrorpack.i18n.invalidEmail).show();break;default:"Member Exists"===r.title?n.filter(".response--error").text(horrorpack.i18n.alreadySubscribed).show():n.filter(".response--error").text(horrorpack.i18n.invalidEmail).show()}break;case"pending":n.filter(".response--success").text(horrorpack.i18n.subscriptionSuccessful).show(),i.trigger("hp/newsletterSuccess"),i.find('input[type="email"], input[type="text"]').blur().val(""),s.prop("checked",!1)}}else alert("Sorry, we couldn't subscribe you at this time.")}}):n.filter(".response--error").text(horrorpack.i18n.invalidEmail).show()}})),e(".autopilot-form").on("submit",(function(r){r.preventDefault();var i=e(this),s=i.find('input[name="terms"]'),o=i.find('input[name="email"]').val();if(!(i.find('input[name="dante"]').val().length>0)){var n=i.find(".autopilot-form__responses .response");if(n.hide().empty(),0!==o.length&&t(o))if(s.length>0&&!s.is(":checked"))n.filter(".response--error").text(horrorpack.i18n.mustAcceptTerms).show();else{var a="undefined"!=typeof AutopilotAnywhere&&AutopilotAnywhere.hasOwnProperty("sessionId")?AutopilotAnywhere.sessionId:"";e.ajax({url:horrorpack.ajaxURL,data:{action:"hpfda",fn:"submit_subscriber_to_autopilot",email:o,sessionId:a,source:window.location.href},success:function(e){(e=JSON.parse(e))&&e.hasOwnProperty("body")&&JSON.parse(e.body).hasOwnProperty("contact_id")?(n.filter(".response--success").text(horrorpack.i18n.subscriptionSuccessful).show(),i.trigger("hp/newsletterSuccess"),i.find('input[type="email"], input[type="text"]').blur().val(""),s.prop("checked",!1)):alert("Sorry, we couldn't subscribe you at this time.")}})}else n.filter(".response--error").text(horrorpack.i18n.invalidEmail).show()}})),e(".klaviyo-form").on("submit",(function(r){r.preventDefault();var i=e(this),s=i.find('input[name="terms"]'),o=i.find('input[name="email"]').val(),n=i.find('input[name="list_id"]').val(),a=i.find('input[name="tag"]').val();if(!(i.find('input[name="dante"]').val().length>0)){var c=i.find(".klaviyo-form__responses .response");c.hide().empty(),0!==o.length&&t(o)?s.length>0&&!s.is(":checked")?c.filter(".response--error").text(horrorpack.i18n.mustAcceptTerms).show():e.ajax({url:horrorpack.ajaxURL,data:{action:"hpfda",fn:"submit_subscriber_to_klaviyo",email:o,list_id:n,tag:a},success:function(e){if((e=JSON.parse(e)).hasOwnProperty("error")&&!0===e.error)switch(e.detail){case"Already Subscribed":c.filter(".response--error").text(horrorpack.i18n.alreadySubscribed).show();break;case"Invalid Email":c.filter(".response--error").text(horrorpack.i18n.invalidEmail).show()}else c.filter(".response--success").text(horrorpack.i18n.subscriptionSuccessful).show(),i.trigger("hp/newsletterSuccess"),i.find('input[type="email"], input[type="text"]').blur().val(""),s.prop("checked",!1)}}):c.filter(".response--error").text(horrorpack.i18n.invalidEmail).show()}}))};e(document).on("loadedPageAsync",i),e(document).ready(i)}(jQuery);